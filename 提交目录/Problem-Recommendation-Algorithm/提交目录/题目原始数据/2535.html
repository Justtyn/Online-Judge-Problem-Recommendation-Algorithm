<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ACM NOIP 信息学竞赛 测试数据 下载 大全">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>TK题库</title>  
    
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/bootstrap.min.css">

<!-- 可选的Bootstrap主题文件（一般不用引入） -->
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/bootstrap-theme.min.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/white.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/katex.min.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/mathjax.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/semantic.min.css">
	    


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
          <!-- Static navbar -->
      <nav class="navbar navbar-default" role="navigation" >
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="./">TK题库</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
	      <!--              <li ><a href="bbs.php">Web Board</a></li>-->
              <li ><a href="faqs.php"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> F.A.Qs</a></li>
              <li class='btn-primary' ><a style='color:white' href="problemset.php"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> ProblemSet</a></li>
              <li class='btn-success'><a  style='color:white'  href="problemset.php?search=free"><span class="glyphicon glyphicon-gift" aria-hidden="true"></span> 免费专区</a></li>
              <li class='btn-danger'><a  style='color:white' href="problemset.php?hot"><span class="glyphicon glyphicon-fire" aria-hidden="true"></span> 热门下载</a></li>
              <li class='btn-warning'><a  style='color:white' href="category.php"><span class="glyphicon glyphicon-th" aria-hidden="true"></span> Source/Category</a></li>
              <li class='btn-info'><a  style='color:white' href="status.php"><span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span> Status</a></li>
 <!--             <li ><a href="ranklist.php">Ranklist</a></li>
              <li ><a href="recent-contest.php">Recent</a></li>
              <li ><a href="contest.php">Contest</a></li>
	-->
		<li><a > 题目数据全能下，右上角注册充值，支持微信! </a></li>
            </ul>
	    <ul class="nav navbar-nav navbar-right">
	    <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="profile">Login</span><span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
<script src="template/tk/profile.php?1187774733" ></script>
              <!--<li><a href="../navbar-fixed-top/">Fixed top</a></li>-->
	    </ul>
	    </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>


	    
      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
	
<title>Problem 2535 --Up a Tree</title><center><h2>2535: Up a Tree</h2><span class=green>Time Limit: </span>6 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>128 MB<br><span class=green>Submit: </span>1&nbsp;&nbsp;<span class=green>Solved: </span>0<br>[<a href='submitpage.php?id=2535'>Submit</a>][<a href='problemstatus.php?id=2535'>Status</a>][<a href='bbs.php?pid=2535'>Web Board</a>][Creator:<span id='creator'></span>][<a href='pay.php?pid=2535'>下载FPS6元</a>][<a onclick='$(this).load("cart.php?add=2535");'>添加到购物车</a>][<a href='pay.php?fmt=zipdata&pid=2535'>下载测试数据6元</a>][316kb]</center><!--StartMarkForVirtualJudge--><h2>Description</h2><div class=content><p>
	Anatoly Cheng
McDougal is a typical student in many ways. Whenever possible he tries to cut
and paste code instead of writing it from scratch. Unavoidably this approach
causes him problems. For example, when he first learned about preorder, inorder
and postorder traversals of trees, and was given code for a preorder print of a
tree (shown on the left below), he simply cut and pasted the code, then moved
the print statement to the correct location and renamed the procedure. However,
he forgot to rename the procedure calls inside the code, resulting in the
defective inorder print and postorder print code shown below.
</p>
<p style="text-align:center;">
	<img src="/attached/image/20130720/20130720215152_61032.jpg" alt="" />
</p>
<p style="text-align:left;">
	<p class="MsoNormal">
		<span>At this point, Anatoly did not behave like
a typical student. He actually tested his code! Unfortunately, when the results
were not correct, he reverted back to typical student behavior. He panicked and
started randomly changing calls in all three procedures, hoping to get things
right. Needless to say, the situation became even worse now than when he
started.</span>
	</p>
	<p class="MsoNormal">
		<span>&nbsp;</span>
	</p>
	<p class="MsoNormal">
		<span>Anatoly’s professor tested the code on a
random tree of characters. When she looked at the output of his three print
routines, she correctly guessed what had happened. However, instead of going
directly to his code, she decided to try to reconstruct Anatoly’s code just by
observing the output. In order to do this, she correctly made the following
assumptions:</span>
	</p>
	<p class="MsoNormal">
		<ol>
			<li>
				<span style="line-height:1.5;"></span><span style="line-height:1.5;">The output statement in each
print routine is in the correct location (for example, between the two
recursive calls in the inPrint routine).</span>
			</li>
			<li>
				<span style="line-height:1.5;"></span><span style="line-height:1.5;">Among the six recursive calls
made by the three routines, exactly two calls are to prePrint,
exactly two are to inPrint, and exactly two
are to postPrint, though potentially in the
wrong routines.</span>
			</li>
		</ol>
	</p>
Soon the professor realized that reconstructing
Anatoly’s code and the test tree from his output was not a simple task and that
the result might be ambiguous. You will have to help her find all possible
reconstructions of Anatoly’s code. In addition, for each such reconstruction,
you are to find the alphabetically first tree (as described in the output
section) giving the observed output.
</p></div><h2>Input</h2><div class=content>The input consists of
a single test case. A test case consists of three strings on three separate
lines: the observed output of Anatoly’s prePrint,
inPrint and postPrint,
routines (in that order) on some test tree. Each of these strings consists of <i>n</i> uppercase letters (4&lt;=<i>n&nbsp;</i>&lt;=26), with no repeated letters in
any string. The test case is guaranteed to have at least one solution.</div><h2>Output</h2><div class=content><p class="MsoNormal">
	<span>Display all possible reconstructions for
the test case, ordered as described in the last paragraph below. The output for
each reconstruction consists of two parts. The first part is a single line and
describes the six calls in Anatoly’s routines: first the two (recursive) calls
in Anatoly’s prePrint routine, followed by
the calls in his inPrint routine, and
finally the calls in his postPrint routine.
The calls are described by the words Pre, In, and Post,
separated by spaces. For example, if Anatoly’s routines were correct, the
resulting output of the first part of the reconstruction would be Pre Pre In In Post Post.</span>
</p>
<p class="MsoNormal">
	<span>&nbsp;</span>
</p>
<p class="MsoNormal">
	<span>The second part consists of three lines and
describes the first test tree that could have generated the observed outputs.
The first line is the <i>correct</i> preorder print of the tree, and the second and third lines contain the correct
inorder and postorder prints, respectively. The first tree is the one with the
alphabetically first preorder print. If there are multiple such trees, the
first of these is the one with the alphabetically first inorder print.</span>
</p>
<p class="MsoNormal">
	<span>&nbsp;</span>
</p>
Every reconstruction is a sequence of 6 tokens chosen
from Pre, In,
and Post. The ordering of reconstructions is
lexicographic with respect to the following ordering of tokens: Pre &lt; In
&lt; Post.</div><h2>Sample Input</h2>
<pre class=content><span class=sampledata>HFBIGEDCJA
BIGEDCJFAH
BIGEDCJFAH
BNLFAGHPEDOCMJIK
NLBGAPHCODEIJMKF
NLFAGHPEDOCMJIKB
</span></pre><h2>Sample Output</h2>
<pre class=content><span class=sampledata>Pre Post In Post In Pre
HFBJCDEGIA
BIGEDCJFAH
IGEDCJBAFH
In Pre In Post Post Pre
BLNFKMEHAGPCODIJ
NLBAGHPEODCMIJKF
NLGAPHDOCEJIMKFB
Post Pre In In Post Pre
BLNFKICPGAHEODMJ
NLBGAPHCODEIJMKF
NLAGHPDOECJMIKFB</span></pre><h2>HINT</h2>
<div class=content><p></p></div><h2>Source</h2><div class=content><p><a href='problemset.php?search=ACM-ICPC%E5%85%A8%E7%90%83%E6%80%BB%E5%86%B3%E8%B5%9B%E9%A2%98%E7%9B%AE-2013'>ACM-ICPC全球总决赛题目-2013</a>&nbsp;<a href='problemset.php?search=ACM-ICPC'>ACM-ICPC</a>&nbsp;<a href='problemset.php?search=%E5%85%A8%E7%90%83%E6%80%BB%E5%86%B3%E8%B5%9B'>全球总决赛</a>&nbsp;</p></div><center><!--EndMarkForVirtualJudge-->[<a href='submitpage.php?id=2535'>Submit</a>][<a href='problemstatus.php?id=2535'>Status</a>]</center>      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="http://cdn.hustoj.com/template/bs3/jquery.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="http://cdn.hustoj.com/template/bs3/bootstrap.min.js"></script>

<!--<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
-->
<script>
$(document).ready(function(){
  var msg="<div style='margin-top:10px'  direction='up'   id=broadcast scrollamount=1 scrolldelay=50 onMouseOver='this.stop()'"+
      " onMouseOut='this.start()' class=toprow>"+"<p style=\"text-align:center;\">\r\n\t<span style=\"color:#24292E;font-family:-apple-system&#44; bl<x>inkMacSystemFont&#44; &quot;font-size:16px;background-color:#FFFFFF;\">\u5e86\u795dhustoj\u5728\u9996\u5c4a\u6df1\u5ea6\u8f6f\u4ef6\u5f00\u53d1\u5927\u8d5b\u4e2d\u83b7\u5f97\u4e09\u7b49\u5956\uff0c\u5145\u503c100\u900120\u3002<\/span>\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u672c\u7cfb\u7edf\u652f\u6301\u4e24\u79cd\u683c\u5f0f\u6570\u636e\u4e0b\u8f7d\uff0cfps\/xm<x>l\u683c\u5f0f\u542b\u9898\u9762\u56fe\u7247\u6570\u636e\u6807\u7a0b\u652f\u6301hustoj\u7cfb\u7edf\u76f4\u63a5\u5bfc\u5165\uff0czip\u683c\u5f0f\u4ec5\u542b\u6570\u636e\u4e0d\u542b\u9898\u9762\u3002\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u91cd\u590d\u4e0b\u8f7d\u4e0d\u91cd\u590d\u8ba1\u8d39\u3002\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u5982\u9047\u5145\u503c\u4e0d\u80fd\u5230\u8d26&#44;\u8bf7\u8054\u7cfbQQ:10982766\u63d0\u4f9b\u7528\u6237\u540d\u548c\u652f\u4ed8\u5355\u53f7\u8fdb\u884c\u6838\u5bf9\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u7ecf\u8d39\u4e0d\u8db3\u7684\u8001\u5e08\u540c\u5b66\u8bf7\u5148\u770b <br \/>\r\n<span class=\"btn-success\"> <a href=\"problemset.php?search=free\"><span> \u514d\u8d39\u4e13\u533a<\/span><\/a> <\/span>\r\n<br \/>"+"</div>";
  $(".jumbotron").prepend(msg);
  $("form").append("<div id='csrf' />");
  $("#csrf").load("csrf.php");
  $("body").append("<div id=footer class=center >GPLv2 licensed by <a href='https://github.com/zhblue/hustoj' >HUSTOJ</a> "+(new Date()).getFullYear()+" </div>");
  $("body").append("<div class=center > <img src='http://hustoj.com/wx.jpg' width='96px'><br> 欢迎关注微信公众号onlinejudge<br><img src=\"http://tk.hustoj.com/upload/image/20180621/20180621190059_62537.png\" width=\"200\" height=\"301\"  alt='支付宝扫一扫领红包'/></div>");
});
  console.log("If you want to change the appearance of the web pages, make a copy of bs3 under template directory.\nRename it to whatever you like, and change the $OJ_TEMPLATE value in db_info.inc.php\nAfter that modify files under your own directory .\n");


</script>

	
<script>
function phpfm(pid){
        //alert(pid);
        $.post("admin/phpfm.php",{'frame':3,'pid':pid,'pass':''},function(data,status){
                if(status=="success"){
                        document.location.href="admin/phpfm.php?frame=3&pid="+pid;
                }
        });
}
$(document).ready(function(){
	$("#creator").load("problem-ajax.php?pid=2535");
});
</script>	  
  </body>
</html>
<!--not cached-->
