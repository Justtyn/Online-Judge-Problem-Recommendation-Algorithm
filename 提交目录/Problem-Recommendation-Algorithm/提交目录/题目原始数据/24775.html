<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ACM NOIP 信息学竞赛 测试数据 下载 大全">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>TK题库</title>  
    
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/bootstrap.min.css">

<!-- 可选的Bootstrap主题文件（一般不用引入） -->
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/bootstrap-theme.min.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/white.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/katex.min.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/mathjax.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/semantic.min.css">
	    


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
          <!-- Static navbar -->
      <nav class="navbar navbar-default" role="navigation" >
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="./">TK题库</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
	      <!--              <li ><a href="bbs.php">Web Board</a></li>-->
              <li ><a href="faqs.php"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> F.A.Qs</a></li>
              <li class='btn-primary' ><a style='color:white' href="problemset.php"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> ProblemSet</a></li>
              <li class='btn-success'><a  style='color:white'  href="problemset.php?search=free"><span class="glyphicon glyphicon-gift" aria-hidden="true"></span> 免费专区</a></li>
              <li class='btn-danger'><a  style='color:white' href="problemset.php?hot"><span class="glyphicon glyphicon-fire" aria-hidden="true"></span> 热门下载</a></li>
              <li class='btn-warning'><a  style='color:white' href="category.php"><span class="glyphicon glyphicon-th" aria-hidden="true"></span> Source/Category</a></li>
              <li class='btn-info'><a  style='color:white' href="status.php"><span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span> Status</a></li>
 <!--             <li ><a href="ranklist.php">Ranklist</a></li>
              <li ><a href="recent-contest.php">Recent</a></li>
              <li ><a href="contest.php">Contest</a></li>
	-->
		<li><a > 题目数据全能下，右上角注册充值，支持微信! </a></li>
            </ul>
	    <ul class="nav navbar-nav navbar-right">
	    <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="profile">Login</span><span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
<script src="template/tk/profile.php?653818222" ></script>
              <!--<li><a href="../navbar-fixed-top/">Fixed top</a></li>-->
	    </ul>
	    </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>


	    
      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
	
<title>Problem 24775 --【USACO2014OPEN】牧场装饰{bronze题3}</title><center><h2>24775: 【USACO2014OPEN】牧场装饰{bronze题3}</h2><span class=green>Time Limit: </span>15 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>256 MB<br><span class=green>Submit: </span>8&nbsp;&nbsp;<span class=green>Solved: </span>5<br>[<a href='submitpage.php?id=24775'>Submit</a>][<a href='problemstatus.php?id=24775'>Status</a>][<a href='bbs.php?pid=24775'>Web Board</a>][Creator:<span id='creator'></span>][<a href='pay.php?pid=24775'>下载FPS1元</a>][<a onclick='$(this).load("cart.php?add=24775");'>添加到购物车</a>][<a href='pay.php?fmt=zipdata&pid=24775'>下载测试数据1元</a>][4552kb]</center><!--StartMarkForVirtualJudge--><h2>Description</h2><div class=content><p class="MsoNormal" align="center" style="text-align:center;">
	<b><span style="font-size:16px;">1. </span></b><b><span style="font-size:16px;">牧场装饰</span></b><b><span style="font-size:16px;">{bronze</span></b><b><span style="font-size:16px;">题</span></b><b><span style="font-size:16px;">3}</span></b> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">【问题描述】 </span><span></span> 
</p>
<p class="MsoNormal" style="text-indent:15.75pt;">
	<span style="font-size:16px;">农民约翰有N（1</span><span class="atn" style="font-size:16px;">&lt;</span><span style="font-size:16px;">= N</span><span class="atn" style="font-size:16px;">&lt;</span><span style="font-size:16px;">=50,000）牧场，分别编号为1... N。牧场由M（1</span><span class="atn" style="font-size:16px;">&lt;</span><span style="font-size:16px;">=
M&lt;=100,000）条双向道路连接。道路i连接两个不同的牧场牧场A_i（1</span><span class="atn" style="font-size:16px;">&lt;</span><span style="font-size:16px;">= </span><span class="hps" style="font-size:16px;">A_I</span><span class="atn" style="font-size:16px;">&lt;</span><span style="font-size:16px;">= </span><span class="hps" style="font-size:16px;">N</span><span class="hps" style="font-size:16px;">）和</span><span style="font-size:16px;">牧场B_i（1</span><span class="atn" style="font-size:16px;">&lt;</span><span style="font-size:16px;">= </span><span class="hps" style="font-size:16px;">B_i</span><span class="atn" style="font-size:16px;">&lt;</span><span style="font-size:16px;">= </span><span class="hps" style="font-size:16px;">N</span><span class="hps" style="font-size:16px;">）。</span><span style="font-size:16px;">同一对牧场之间可能有多条道路连接。</span> 
</p>
<p class="MsoNormal" style="text-indent:15.75pt;">
	<span style="font-size:16px;">现对每个牧场摆放一块标有大写字母”F”或者”J”的广告牌进行装饰。两个有道路相连的牧场，必须摆放不同字母的广告牌。</span> 
</p>
<p class="MsoNormal" style="text-indent:15.75pt;">
	<span style="font-size:16px;">“F”字母广告牌的价格要高于”J”字母的广告牌，所以约翰想最大化地使用”J”字母广告牌，请输出这个最大的数目，如果没有可行的摆放方案，则输出”-1”。</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">【文件输入】</span> 
</p>
<p class="MsoNormal" style="text-indent:21.0pt;">
	<span style="font-size:16px;">第一行为两个整数N和M。</span> 
</p>
<p class="MsoNormal" style="text-indent:21.0pt;">
	<span style="font-size:16px;">接下来2..M行，每行两个整数，描述M条双向道路。</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">【文件输出】</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">&nbsp;&nbsp; 输出共一行，一个整数，表示”J”字母广告牌的最大数目，无解则输出”-1”。</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">【输入样例1】 </span><span></span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">4 4</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">1 2</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">2 3</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">3 4</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">4 1</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">【输出样例1】</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">2</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">【样例1说明】</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:16px;">牧场1和3，或者牧场2和4使用”J”字母广告牌。</span> 
</p></div><h2>Input</h2><div class=content></div><h2>Output</h2><div class=content></div><h2>HINT</h2>
<div class=content><p><p style="font-family:Simsun;font-size:medium;"><br />
	<b>Analysis: Decorating The Pastures by Kalki Seksaria</b><br />
</p><br />
<hr /><br />
<p style="font-family:Simsun;font-size:medium;"><br />
	This is a variant of the problem of determining if a graph is 2-colorable. We can start by considering the case where all the pastures are connected. For now, we can ignore the costs of the signs, and simply determine if we can place the signs such that two pastures are decorated with different letters if they are connected by a path. Without loss of generality, we can start by guessing that the first pasture will have an 'F'. Now, all of our decisions as to whether to place an 'F' or a 'J' at any other vertex are forced. We can DFS, and place an 'F' on every vertex that has a neighboring pasture with a 'J', and vice-versa. If this procedure is successful, we have found a valid assignment of the signs. Now, the only decision we made was to decide whether pasture 1 would have an 'F' or a 'J'. If the number of 'J' signs in this assignment is at least as large as the number of 'F' signs, then we are good. If not, we can simply reverse all of the 'F' and 'J' signs. This gives us the maximum number of 'J' signs. If this assignment procedure is unsuccessful, and results in one pasture needing both an 'F' sign and a 'J' sign, then a valid assignment cannot be found and we should output -1. We can now generalize this to graphs where not all of the pastures are connected by solving each connected component separately. If even one connected component is unsuccessful, then we should output -1. If the assignment for all the connected components is successful, then the maximum number of 'J' signs is just the sum of this quantity for all the connected components.<br />
</p><br />
<p style="font-family:Simsun;font-size:medium;"><br />
	Here is Mark's code:<br />
</p><br />
<pre>#include &lt;iostream&gt;<br />
#include &lt;vector&gt;<br />
#include &lt;algorithm&gt;<br />
#include &lt;cstdio&gt;<br />
#include &lt;cstring&gt;<br />
#include &lt;cassert&gt;<br />
<br />
using namespace std;<br />
<br />
#define MAXN 50010<br />
<br />
int color[MAXN];<br />
int colorcount[2];<br />
vector&lt;int&gt; E[MAXN];<br />
<br />
bool dfs(int u, int c) {<br />
  if(color[u] != -1) return color[u] == c;<br />
  color[u] = c;<br />
  colorcount[c]++;<br />
<br />
  for(int i = 0; i &lt; E[u].size(); i++) {<br />
    if(!dfs(E[u][i], 1 - c)) {<br />
      return false;<br />
    }<br />
  }<br />
  return true;<br />
}<br />
<br />
int main() {<br />
  freopen("decorate.in", "r", stdin);<br />
  freopen("decorate.out", "w", stdout);<br />
<br />
  int N, M;<br />
  cin &gt;&gt; N &gt;&gt; M;<br />
  assert(1 &lt;= N &amp;&amp; N &lt;= 50000);<br />
  assert(1 &lt;= M &amp;&amp; M &lt;= 100000);<br />
  for(int i = 0; i &lt; M; i++) {<br />
    int u, v;<br />
    cin &gt;&gt; u &gt;&gt; v;<br />
    assert(u != v);<br />
    assert(1 &lt;= u &amp;&amp; u &lt;= N);<br />
    assert(1 &lt;= v &amp;&amp; v &lt;= N);<br />
    u--; v--;<br />
<br />
    E[u].push_back(v);<br />
    E[v].push_back(u);<br />
  }<br />
<br />
  int ccnt = 0;<br />
  int result = 0;<br />
  memset(color, -1, sizeof(color));<br />
  for(int i = 0; i &lt; N; i++) {<br />
    if(color[i] != -1) continue;<br />
    ccnt++;<br />
    colorcount[0] = colorcount[1] = 0;<br />
    if (!dfs(i, 0)) {<br />
      result = -1;<br />
      break;<br />
    }<br />
    result += max(colorcount[0], colorcount[1]);<br />
  }<br />
  cout &lt;&lt; result &lt;&lt; endl;<br />
<br />
  return 0;<br />
}</pre></p></div><h2>Source</h2><div class=content><p><a href='problemset.php?search=USACO-USACO%E6%9C%88%E8%B5%9B'>USACO-USACO月赛</a>&nbsp;</p></div><center><!--EndMarkForVirtualJudge-->[<a href='submitpage.php?id=24775'>Submit</a>][<a href='problemstatus.php?id=24775'>Status</a>]</center>      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="http://cdn.hustoj.com/template/bs3/jquery.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="http://cdn.hustoj.com/template/bs3/bootstrap.min.js"></script>

<!--<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
-->
<script>
$(document).ready(function(){
  var msg="<div style='margin-top:10px'  direction='up'   id=broadcast scrollamount=1 scrolldelay=50 onMouseOver='this.stop()'"+
      " onMouseOut='this.start()' class=toprow>"+"<p style=\"text-align:center;\">\r\n\t<span style=\"color:#24292E;font-family:-apple-system&#44; bl<x>inkMacSystemFont&#44; &quot;font-size:16px;background-color:#FFFFFF;\">\u5e86\u795dhustoj\u5728\u9996\u5c4a\u6df1\u5ea6\u8f6f\u4ef6\u5f00\u53d1\u5927\u8d5b\u4e2d\u83b7\u5f97\u4e09\u7b49\u5956\uff0c\u5145\u503c100\u900120\u3002<\/span>\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u672c\u7cfb\u7edf\u652f\u6301\u4e24\u79cd\u683c\u5f0f\u6570\u636e\u4e0b\u8f7d\uff0cfps\/xm<x>l\u683c\u5f0f\u542b\u9898\u9762\u56fe\u7247\u6570\u636e\u6807\u7a0b\u652f\u6301hustoj\u7cfb\u7edf\u76f4\u63a5\u5bfc\u5165\uff0czip\u683c\u5f0f\u4ec5\u542b\u6570\u636e\u4e0d\u542b\u9898\u9762\u3002\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u91cd\u590d\u4e0b\u8f7d\u4e0d\u91cd\u590d\u8ba1\u8d39\u3002\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u5982\u9047\u5145\u503c\u4e0d\u80fd\u5230\u8d26&#44;\u8bf7\u8054\u7cfbQQ:10982766\u63d0\u4f9b\u7528\u6237\u540d\u548c\u652f\u4ed8\u5355\u53f7\u8fdb\u884c\u6838\u5bf9\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u7ecf\u8d39\u4e0d\u8db3\u7684\u8001\u5e08\u540c\u5b66\u8bf7\u5148\u770b <br \/>\r\n<span class=\"btn-success\"> <a href=\"problemset.php?search=free\"><span> \u514d\u8d39\u4e13\u533a<\/span><\/a> <\/span>\r\n<br \/>"+"</div>";
  $(".jumbotron").prepend(msg);
  $("form").append("<div id='csrf' />");
  $("#csrf").load("csrf.php");
  $("body").append("<div id=footer class=center >GPLv2 licensed by <a href='https://github.com/zhblue/hustoj' >HUSTOJ</a> "+(new Date()).getFullYear()+" </div>");
  $("body").append("<div class=center > <img src='http://hustoj.com/wx.jpg' width='96px'><br> 欢迎关注微信公众号onlinejudge<br><img src=\"http://tk.hustoj.com/upload/image/20180621/20180621190059_62537.png\" width=\"200\" height=\"301\"  alt='支付宝扫一扫领红包'/></div>");
});
  console.log("If you want to change the appearance of the web pages, make a copy of bs3 under template directory.\nRename it to whatever you like, and change the $OJ_TEMPLATE value in db_info.inc.php\nAfter that modify files under your own directory .\n");


</script>

	
<script>
function phpfm(pid){
        //alert(pid);
        $.post("admin/phpfm.php",{'frame':3,'pid':pid,'pass':''},function(data,status){
                if(status=="success"){
                        document.location.href="admin/phpfm.php?frame=3&pid="+pid;
                }
        });
}
$(document).ready(function(){
	$("#creator").load("problem-ajax.php?pid=24775");
});
</script>	  
  </body>
</html>
<!--not cached-->
