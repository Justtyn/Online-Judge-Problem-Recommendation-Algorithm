<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ACM NOIP 信息学竞赛 测试数据 下载 大全">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>TK题库</title>  
    
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/bootstrap.min.css">

<!-- 可选的Bootstrap主题文件（一般不用引入） -->
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/bootstrap-theme.min.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/white.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/katex.min.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/mathjax.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/semantic.min.css">
	    


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
          <!-- Static navbar -->
      <nav class="navbar navbar-default" role="navigation" >
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="./">TK题库</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
	      <!--              <li ><a href="bbs.php">Web Board</a></li>-->
              <li ><a href="faqs.php"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> F.A.Qs</a></li>
              <li class='btn-primary' ><a style='color:white' href="problemset.php"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> ProblemSet</a></li>
              <li class='btn-success'><a  style='color:white'  href="problemset.php?search=free"><span class="glyphicon glyphicon-gift" aria-hidden="true"></span> 免费专区</a></li>
              <li class='btn-danger'><a  style='color:white' href="problemset.php?hot"><span class="glyphicon glyphicon-fire" aria-hidden="true"></span> 热门下载</a></li>
              <li class='btn-warning'><a  style='color:white' href="category.php"><span class="glyphicon glyphicon-th" aria-hidden="true"></span> Source/Category</a></li>
              <li class='btn-info'><a  style='color:white' href="status.php"><span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span> Status</a></li>
 <!--             <li ><a href="ranklist.php">Ranklist</a></li>
              <li ><a href="recent-contest.php">Recent</a></li>
              <li ><a href="contest.php">Contest</a></li>
	-->
		<li><a > 题目数据全能下，右上角注册充值，支持微信! </a></li>
            </ul>
	    <ul class="nav navbar-nav navbar-right">
	    <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="profile">Login</span><span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
<script src="template/tk/profile.php?355831931" ></script>
              <!--<li><a href="../navbar-fixed-top/">Fixed top</a></li>-->
	    </ul>
	    </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>


	    
      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
	
<title>Problem 24781 --【USACO2014MARCH】牛叫{ silver题3}</title><center><h2>24781: 【USACO2014MARCH】牛叫{ silver题3}</h2><span class=green>Time Limit: </span>2 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>256 MB<br><span class=green>Submit: </span>5&nbsp;&nbsp;<span class=green>Solved: </span>5<br>[<a href='submitpage.php?id=24781'>Submit</a>][<a href='problemstatus.php?id=24781'>Status</a>][<a href='bbs.php?pid=24781'>Web Board</a>][Creator:<span id='creator'></span>][<a href='pay.php?pid=24781'>下载FPS1元</a>][<a onclick='$(this).load("cart.php?add=24781");'>添加到购物车</a>][<a href='pay.php?fmt=zipdata&pid=24781'>下载测试数据1元</a>][84kb]</center><!--StartMarkForVirtualJudge--><h2>Description</h2><div class=content><p class="MsoNormal" align="center" style="text-align:center;">
	<b><span style="font-size:18px;">3. </span></b><b><span style="font-size:18px;">牛叫</span></b><b><span style="font-size:18px;">{ silver</span></b><b><span style="font-size:18px;">题</span></b><b><span style="font-size:18px;">3}</span></b> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">【问题描述】 </span><span></span> 
</p>
<p class="MsoNormal" style="text-indent:26.25pt;">
	<span style="font-size:18px;">农民约翰忘记了他到底有多少头牛，他希望通过收集牛叫声的音量来计算牛的数量。</span> 
</p>
<p class="MsoNormal" style="text-indent:26.25pt;">
	<span style="font-size:18px;">他的N</span><span> </span><span style="font-size:18px;">(1 &lt;= N &lt;= 100)个农场分布在一条直线上，每个农场可能包含B</span><span> </span><span style="font-size:18px;">(1 &lt;= B &lt;= 20)个品种的牛，一头品种i的牛的音量是V(i) ，(1 &lt;= V(i) &lt;= 100)。一阵大风将牛的叫声从左往右传递，如果某个农场的总音量是X，那么将传递X-1的音量到右边的下一个农场。另外，一个农场的总音量等于该农场的牛产生的音量加上从上一个农场传递过来的音量（即X-1）。任意一个农场的总音量不超过100000。</span> 
</p>
<p class="MsoNormal" style="text-indent:26.25pt;">
	<span style="font-size:18px;">请计算出最少可能的牛的数量。</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">【文件输入】 </span><span></span> 
</p>
<p class="MsoNormal" style="text-indent:21.0pt;">
	<span style="font-size:18px;">第一行，两个用空格隔开的整数，分别表示N和B。</span> 
</p>
<p class="MsoNormal" style="text-indent:21.0pt;">
	<span style="font-size:18px;">接下来B行，每行一个整数，表示每种牛的音量。</span> 
</p>
<p class="MsoNormal" style="text-indent:21.0pt;">
	<span style="font-size:18px;">接下来N行，每行一个整数，表示该农场的总音量。</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">【文件输出】 </span><span></span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">&nbsp;&nbsp;&nbsp; 共一行，一个整数，表示牛的最小数目。如果无解则输出-1。</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">【输入样例1】 </span><span></span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">5 2</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">5</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">7</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">0</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">17</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">16</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">20</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">19</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">【输出样例1】</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">4</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">【样例1说明】</span> 
</p>
<p class="MsoNormal">
	<span style="font-size:18px;">在农场2，有2头品种1的牛和1头品种2的牛；在农场4，有1头品种1的牛。</span> 
</p>
<h2>
	<span style="font-size:18px;">&nbsp;</span> 
</h2></div><h2>Input</h2><div class=content></div><h2>Output</h2><div class=content></div><h2>HINT</h2>
<div class=content><p><p style="font-family:Simsun;font-size:medium;"><br />
	<b>Analysis: Mooomoo by Brian Dean</b> <br />
</p><br />
<hr /><br />
<p style="font-family:Simsun;font-size:medium;"><br />
	This problem can be solved by dynamic programming. We loop over the fields in sequence; for each field, we subtract out the contribution due to the preceding field, and then we solve essentially a knapsack problem to compute the minimum number of cows that can generate the remaining mooing volume. For the knapsack problem formulation, let M(v) be the minimum number of cows that can generate mooing volume v. We can compute M(v) by taking M(v) = 1 + min(M(v - v(j))) over all cows breeds j, where v(j) is the volume generated by breed j. It takes O(B) time to compute each M(v), and there are at most roughly 100,000 values of v for which we need to run this calculation over all the fields, since the mooing volumes sum to at most 100,000.<br />
</p><br />
<p style="font-family:Simsun;font-size:medium;"><br />
	Code by Tomek Czajka is below:<br />
</p><br />
<pre>#include &lt;algorithm&gt;<br />
#include &lt;iostream&gt;<br />
#include &lt;fstream&gt;<br />
#include &lt;vector&gt;<br />
using namespace std;<br />
<br />
const int INF = 1000000000;<br />
template&lt;class T&gt; inline int size(const T&amp;c) { return c.size(); }<br />
<br />
ifstream fin("mooomoo.in");<br />
ofstream fout("mooomoo.out");<br />
<br />
struct Impossible {};<br />
<br />
vector&lt;int&gt; breeds;<br />
vector&lt;int&gt; volumes;<br />
<br />
void ReadInput() {<br />
  int n,b; fin &gt;&gt; n &gt;&gt; b;<br />
  for(int i=0;i&lt;b;++i) {<br />
    int v; fin &gt;&gt; v; breeds.push_back(v);<br />
  }<br />
  for(int i=0;i&lt;n;++i) {<br />
    int v; fin &gt;&gt; v; volumes.push_back(v);<br />
  }<br />
}<br />
<br />
vector&lt;int&gt; knapsack;<br />
<br />
void ExtendKnapsack() {<br />
  int t = size(knapsack);<br />
  int v = INF;<br />
  for(int i=0;i&lt;size(breeds);++i) {<br />
    int t2 = t - breeds[i];<br />
    if(t2&gt;=0) v = min(v, 1 + knapsack[t2]);<br />
  }<br />
  knapsack.push_back(v);<br />
}<br />
<br />
int Knapsack(int total) {<br />
  if(total&lt;0) throw Impossible();<br />
  while(total &gt;= size(knapsack)) ExtendKnapsack();<br />
  if(knapsack[total]==INF) throw Impossible();<br />
  return knapsack[total];<br />
}<br />
<br />
int Solve() {<br />
  knapsack.assign(1, 0);<br />
  int carry = 0;<br />
  int res = 0;<br />
  for(int i=0;i&lt;size(volumes);++i) {<br />
    carry = max(carry-1, 0);<br />
    int v = volumes[i] - carry;<br />
    res += Knapsack(v);<br />
    carry = volumes[i];<br />
  }<br />
  return res;<br />
}<br />
<br />
int main() {<br />
  ReadInput();<br />
  try {<br />
    fout &lt;&lt; Solve() &lt;&lt; "\n";<br />
  } catch (Impossible) {<br />
    fout &lt;&lt; "-1\n";<br />
  }<br />
}</pre></p></div><h2>Source</h2><div class=content><p><a href='problemset.php?search=USACO-USACO%E6%9C%88%E8%B5%9B'>USACO-USACO月赛</a>&nbsp;</p></div><center><!--EndMarkForVirtualJudge-->[<a href='submitpage.php?id=24781'>Submit</a>][<a href='problemstatus.php?id=24781'>Status</a>]</center>      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="http://cdn.hustoj.com/template/bs3/jquery.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="http://cdn.hustoj.com/template/bs3/bootstrap.min.js"></script>

<!--<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
-->
<script>
$(document).ready(function(){
  var msg="<div style='margin-top:10px'  direction='up'   id=broadcast scrollamount=1 scrolldelay=50 onMouseOver='this.stop()'"+
      " onMouseOut='this.start()' class=toprow>"+"<p style=\"text-align:center;\">\r\n\t<span style=\"color:#24292E;font-family:-apple-system&#44; bl<x>inkMacSystemFont&#44; &quot;font-size:16px;background-color:#FFFFFF;\">\u5e86\u795dhustoj\u5728\u9996\u5c4a\u6df1\u5ea6\u8f6f\u4ef6\u5f00\u53d1\u5927\u8d5b\u4e2d\u83b7\u5f97\u4e09\u7b49\u5956\uff0c\u5145\u503c100\u900120\u3002<\/span>\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u672c\u7cfb\u7edf\u652f\u6301\u4e24\u79cd\u683c\u5f0f\u6570\u636e\u4e0b\u8f7d\uff0cfps\/xm<x>l\u683c\u5f0f\u542b\u9898\u9762\u56fe\u7247\u6570\u636e\u6807\u7a0b\u652f\u6301hustoj\u7cfb\u7edf\u76f4\u63a5\u5bfc\u5165\uff0czip\u683c\u5f0f\u4ec5\u542b\u6570\u636e\u4e0d\u542b\u9898\u9762\u3002\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u91cd\u590d\u4e0b\u8f7d\u4e0d\u91cd\u590d\u8ba1\u8d39\u3002\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u5982\u9047\u5145\u503c\u4e0d\u80fd\u5230\u8d26&#44;\u8bf7\u8054\u7cfbQQ:10982766\u63d0\u4f9b\u7528\u6237\u540d\u548c\u652f\u4ed8\u5355\u53f7\u8fdb\u884c\u6838\u5bf9\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u7ecf\u8d39\u4e0d\u8db3\u7684\u8001\u5e08\u540c\u5b66\u8bf7\u5148\u770b <br \/>\r\n<span class=\"btn-success\"> <a href=\"problemset.php?search=free\"><span> \u514d\u8d39\u4e13\u533a<\/span><\/a> <\/span>\r\n<br \/>"+"</div>";
  $(".jumbotron").prepend(msg);
  $("form").append("<div id='csrf' />");
  $("#csrf").load("csrf.php");
  $("body").append("<div id=footer class=center >GPLv2 licensed by <a href='https://github.com/zhblue/hustoj' >HUSTOJ</a> "+(new Date()).getFullYear()+" </div>");
  $("body").append("<div class=center > <img src='http://hustoj.com/wx.jpg' width='96px'><br> 欢迎关注微信公众号onlinejudge<br><img src=\"http://tk.hustoj.com/upload/image/20180621/20180621190059_62537.png\" width=\"200\" height=\"301\"  alt='支付宝扫一扫领红包'/></div>");
});
  console.log("If you want to change the appearance of the web pages, make a copy of bs3 under template directory.\nRename it to whatever you like, and change the $OJ_TEMPLATE value in db_info.inc.php\nAfter that modify files under your own directory .\n");


</script>

	
<script>
function phpfm(pid){
        //alert(pid);
        $.post("admin/phpfm.php",{'frame':3,'pid':pid,'pass':''},function(data,status){
                if(status=="success"){
                        document.location.href="admin/phpfm.php?frame=3&pid="+pid;
                }
        });
}
$(document).ready(function(){
	$("#creator").load("problem-ajax.php?pid=24781");
});
</script>	  
  </body>
</html>
<!--not cached-->
