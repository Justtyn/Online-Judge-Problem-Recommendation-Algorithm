<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ACM NOIP 信息学竞赛 测试数据 下载 大全">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>TK题库</title>  
    
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/bootstrap.min.css">

<!-- 可选的Bootstrap主题文件（一般不用引入） -->
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/bootstrap-theme.min.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/white.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/katex.min.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/mathjax.css">
<link rel="stylesheet" href="http://cdn.hustoj.com/template/bs3/semantic.min.css">
	    


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="container">
          <!-- Static navbar -->
      <nav class="navbar navbar-default" role="navigation" >
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="./">TK题库</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
	      <!--              <li ><a href="bbs.php">Web Board</a></li>-->
              <li ><a href="faqs.php"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> F.A.Qs</a></li>
              <li class='btn-primary' ><a style='color:white' href="problemset.php"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> ProblemSet</a></li>
              <li class='btn-success'><a  style='color:white'  href="problemset.php?search=free"><span class="glyphicon glyphicon-gift" aria-hidden="true"></span> 免费专区</a></li>
              <li class='btn-danger'><a  style='color:white' href="problemset.php?hot"><span class="glyphicon glyphicon-fire" aria-hidden="true"></span> 热门下载</a></li>
              <li class='btn-warning'><a  style='color:white' href="category.php"><span class="glyphicon glyphicon-th" aria-hidden="true"></span> Source/Category</a></li>
              <li class='btn-info'><a  style='color:white' href="status.php"><span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span> Status</a></li>
 <!--             <li ><a href="ranklist.php">Ranklist</a></li>
              <li ><a href="recent-contest.php">Recent</a></li>
              <li ><a href="contest.php">Contest</a></li>
	-->
		<li><a > 题目数据全能下，右上角注册充值，支持微信! </a></li>
            </ul>
	    <ul class="nav navbar-nav navbar-right">
	    <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="profile">Login</span><span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
<script src="template/tk/profile.php?1975414085" ></script>
              <!--<li><a href="../navbar-fixed-top/">Fixed top</a></li>-->
	    </ul>
	    </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>


	    
      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
	
<title>Problem 24773 --【USACO2014FebGold】dec</title><center><h2>24773: 【USACO2014FebGold】dec</h2><span class=green>Time Limit: </span>5 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>256 MB<br><span class=green>Submit: </span>16&nbsp;&nbsp;<span class=green>Solved: </span>4<br>[<a href='submitpage.php?id=24773'>Submit</a>][<a href='problemstatus.php?id=24773'>Status</a>][<a href='bbs.php?pid=24773'>Web Board</a>][Creator:<span id='creator'></span>][<a href='pay.php?pid=24773'>下载FPS1元</a>][<a onclick='$(this).load("cart.php?add=24773");'>添加到购物车</a>][<a href='pay.php?fmt=zipdata&pid=24773'>下载测试数据1元</a>][84kb]</center><!--StartMarkForVirtualJudge--><h2>Description</h2><div class=content><p class="MsoNormal">
	<span style="font-size:18px;">Problem
2: </span><span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">&nbsp;dec</span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap"><span style="font-size:18px;">【题目描述】</span><span></span></span> 
</p>
<p class="MsoNormal" style="text-indent:21.75pt;">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">FJ</span></span><span class="monoprewrap"><span style="font-size:18px;">有</span><span style="font-size:18px;">N(1 &lt;= N &lt;= 20)</span></span><span class="monoprewrap"><span style="font-size:18px;">头奶牛，编号</span><span style="font-size:18px;">1</span></span><span class="monoprewrap"><span style="font-size:18px;">至</span><span style="font-size:18px;">N</span></span><span class="monoprewrap"><span style="font-size:18px;">。</span><span style="font-size:18px;">FJ</span></span><span class="monoprewrap"><span style="font-size:18px;">提供</span><span style="font-size:18px;">N</span></span><span class="monoprewrap" style="font-size:18px;">种不同的技能供奶牛们学习，每头奶牛只能学习一门技能，每门技能都要有奶牛学习。 </span><span class="monoprewrap"><span style="font-size:18px;">第</span><span style="font-size:18px;">i</span></span><span class="monoprewrap"><span style="font-size:18px;">头奶牛学习第</span><span style="font-size:18px;">j</span></span><span class="monoprewrap"><span style="font-size:18px;">门技能，</span><span style="font-size:18px;">FJ</span></span><span class="monoprewrap"><span style="font-size:18px;">得到的分数</span><span style="font-size:18px;">S[i][j]</span></span><span class="monoprewrap"><span style="font-size:18px;">，</span><span style="font-size:18px;">1&lt;=S[i][j]&lt;=1000</span></span><span class="monoprewrap"><span style="font-size:18px;">。此外还有</span><span style="font-size:18px;">B(1 &lt;= B &lt;= 20)</span></span><span class="monoprewrap"><span style="font-size:18px;">个奖励，第</span><span style="font-size:18px;">i</span></span><span class="monoprewrap"><span style="font-size:18px;">个奖励的格式是：</span><span style="font-size:18px;"> Pi </span></span><span class="monoprewrap"><span style="font-size:18px;">、</span><span style="font-size:18px;">Ki </span></span><span class="monoprewrap"><span style="font-size:18px;">、</span><span style="font-size:18px;">Ai</span></span><span class="monoprewrap"><span style="font-size:18px;">，表示的意义是：如果学习完前</span><span style="font-size:18px;">Ki</span></span><span class="monoprewrap"><span style="font-size:18px;">门技能后的总得分（包括额外的奖励得分）不少于</span><span style="font-size:18px;">Pi</span></span><span class="monoprewrap"><span style="font-size:18px;">，那么</span><span style="font-size:18px;">FJ</span></span><span class="monoprewrap"><span style="font-size:18px;">还会得到额外的</span><span style="font-size:18px;">Ai</span></span><span class="monoprewrap"><span style="font-size:18px;">分。那么</span><span style="font-size:18px;">FJ</span></span><span class="monoprewrap"><span style="font-size:18px;">应该如何安排奶牛学习技能，才能使得最后的总得分最高？</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap"><span style="font-size:18px;">【输入格式】</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">&nbsp;&nbsp; </span></span><span class="monoprewrap"><span style="font-size:18px;">第一行，</span><span style="font-size:18px;">N</span></span><span class="monoprewrap"><span style="font-size:18px;">和</span><span style="font-size:18px;">B</span></span><span class="monoprewrap"><span style="font-size:18px;">。</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">&nbsp;&nbsp; </span></span><span class="monoprewrap"><span style="font-size:18px;">接下来有</span><span style="font-size:18px;">B</span></span><span class="monoprewrap"><span style="font-size:18px;">行，每行三个整数：</span><span style="font-size:18px;">Pi </span></span><span class="monoprewrap"><span style="font-size:18px;">、</span><span style="font-size:18px;">Ki </span></span><span class="monoprewrap"><span style="font-size:18px;">、</span><span style="font-size:18px;">Ai</span></span><span class="monoprewrap"><span style="font-size:18px;">。</span><span style="font-size:18px;">1 &lt;= Pi
&lt;= 40000</span></span><span class="monoprewrap"><span style="font-size:18px;">，</span><span style="font-size:18px;">1 &lt;= Ai &lt;= 1000</span></span><span class="monoprewrap"><span style="font-size:18px;">。</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">&nbsp;&nbsp; </span></span><span class="monoprewrap"><span style="font-size:18px;">接下来有</span><span style="font-size:18px;">N</span></span><span class="monoprewrap"><span style="font-size:18px;">行</span><span style="font-size:18px;">N</span></span><span class="monoprewrap"><span style="font-size:18px;">列的二维数组，表示</span><span style="font-size:18px;">S[i][j]</span></span><span class="monoprewrap"><span style="font-size:18px;">。</span><span style="font-size:18px;">1 &lt;= S[i][j]
&lt;= 1000</span></span><span class="monoprewrap"><span style="font-size:18px;">。</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap"><span style="font-size:18px;">【输出格式】</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class="monoprewrap"><span style="font-size:18px;">一个整数，最大得分。</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap"><span style="font-size:18px;">【输入样例】</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">&nbsp;&nbsp;&nbsp; 3 1</span></span> 
</p>
<p class="MsoNormal" style="text-indent:21.75pt;">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">2 7 6</span></span> 
</p>
<p class="MsoNormal" style="text-indent:21.75pt;">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">5 1 7</span></span> 
</p>
<p class="MsoNormal" style="text-indent:21.75pt;">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">2 2 4</span></span> 
</p>
<p class="MsoNormal" style="text-indent:21.75pt;">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">4 2 1</span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap"><span style="font-size:18px;">【输出样例】</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">&nbsp;&nbsp;&nbsp; 17</span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap"><span style="font-size:18px;">【样例解释】</span><span></span></span> 
</p>
<p class="MsoNormal">
	<span class="monoprewrap" style="font-size:18px;"><span style="font-size:18px;">&nbsp;&nbsp; </span></span><span class="monoprewrap"><span style="font-size:18px;">奶牛</span><span style="font-size:18px;">1</span></span><span class="monoprewrap"><span style="font-size:18px;">学习技能</span><span style="font-size:18px;">1</span></span><span class="monoprewrap"><span style="font-size:18px;">，奶牛</span><span style="font-size:18px;">2</span></span><span class="monoprewrap"><span style="font-size:18px;">学习技能</span><span style="font-size:18px;">3</span></span><span class="monoprewrap"><span style="font-size:18px;">，奶牛</span><span style="font-size:18px;">3</span></span><span class="monoprewrap"><span style="font-size:18px;">学习技能</span><span style="font-size:18px;">2</span></span><span class="monoprewrap"><span style="font-size:18px;">。</span><span></span></span> 
</p></div><h2>Input</h2><div class=content></div><h2>Output</h2><div class=content></div><h2>HINT</h2>
<div class=content><p><p style="font-family:Simsun;font-size:medium;"><br />
	<b>Analysis: Cow Decathlon by William Hu and Steven Hao</b><br />
</p><br />
<hr /><br />
<p style="font-family:Simsun;font-size:medium;"><br />
	A very simple solution would be to try all N! assignments for the cows to the events. Unfortunately, this is far too slow for N = 20. However, N is fairly small, so an exponential-time solution is likely to be feasible.<br />
</p><br />
<p style="font-family:Simsun;font-size:medium;"><br />
	To improve the complexity, we instead try a different approach. For every subset S, we use dynamic programming to calculate the maximum number of points that can be earned if the first |S| cows that participate in the events are the cows in S.<br />
</p><br />
<p style="font-family:Simsun;font-size:medium;"><br />
	The total number of states is O(2<sup>N</sup>). At each state, there are at most N ways to choose the cow who competed in the last event. Now, we need to calculate the resulting score once the judges award bonuses. We do this as follows:<br />
</p><br />
<p style="font-family:Simsun;font-size:medium;"><br />
	Let award(A, X) be the score of the cows after the judges award the points after the cows have earned A points and they have participated in X events. We can greedily calculate award(A, X) by sorting the awards at each event by their point requirements. If we calculate the award for each event in the O(N) transitions, the total time complexity would be O(2<sup>N</sup>NB). However, we can do better by noting the award function is nondecreasing in terms of A. So, we only have to calculate the award for the maximal transition out of the O(N) transitions. This makes the time complexity O(2<sup>N</sup>&nbsp;N) for all transitions and O(2<sup>N</sup>&nbsp;B) to calculate the award, making the total runtime O(2<sup>N</sup>(N + B)).<br />
</p><br />
<span style="font-family:Simsun;font-size:medium;line-height:normal;">Below is a C++ solution:</span> <br />
<pre>#include &lt;cstdio&gt;<br />
#include &lt;vector&gt;<br />
#include &lt;utility&gt;<br />
#include &lt;algorithm&gt;<br />
<br />
using namespace std;<br />
typedef pair&lt;int, int&gt; pii;<br />
<br />
const int MAXN = 20;<br />
<br />
int N, B;<br />
int dp[1 &lt;&lt; MAXN];<br />
vector&lt;pii&gt; bonus[MAXN];<br />
int skill[MAXN][MAXN];<br />
<br />
int award (int score, int event)<br />
{<br />
  //award new bonuses<br />
  int siz = bonus[event].size();<br />
  for (int i = 0; i &lt; siz; i++) <br />
  {<br />
    if (score &lt; bonus[event][i].first)<br />
      break;<br />
    score += bonus[event][i].second;<br />
  }<br />
  return score;<br />
}<br />
<br />
int main()<br />
{<br />
  freopen("dec.in", "r", stdin);<br />
  freopen("dec.out", "w", stdout);<br />
  scanf("%d %d", &amp;N, &amp;B);<br />
  for (int i = 0; i &lt; B; i++)<br />
  {<br />
    int k, p, b;<br />
    scanf("%d %d %d", &amp;k, &amp;p, &amp;b);<br />
    --k;<br />
    bonus[k].push_back(pii(p, b));//the points and bonus<br />
  }<br />
  for (int i = 0; i &lt; N; i++)<br />
    sort(bonus[i].begin(), bonus[i].end());//sort bonuses greedily<br />
  for (int i = 0; i &lt; N; i++)<br />
  {<br />
    for (int j = 0; j &lt; N; j++)<br />
      scanf("%d", &amp;skill[i][j]);//cow, event<br />
  }<br />
  for (int i = 1; i &lt; (1 &lt;&lt; N); i++)<br />
  {<br />
    int b = __builtin_popcount(i);<br />
    for (int j = 0; j &lt; N; j++)<br />
    {<br />
      if (i &amp; (1 &lt;&lt; j))<br />
      {<br />
        int x = dp[i ^ (1 &lt;&lt; j)] + skill[j][b - 1];<br />
        if (dp[i] &lt; x)<br />
          dp[i] = x;<br />
      }<br />
    }<br />
    dp[i] = award(dp[i], b - 1);<br />
  }<br />
  printf("%d\n", dp[(1 &lt;&lt; N) - 1]);<br />
  return 0;<br />
}</pre></p></div><h2>Source</h2><div class=content><p><a href='problemset.php?search=USACO-USACO%E6%9C%88%E8%B5%9B'>USACO-USACO月赛</a>&nbsp;</p></div><center><!--EndMarkForVirtualJudge-->[<a href='submitpage.php?id=24773'>Submit</a>][<a href='problemstatus.php?id=24773'>Status</a>]</center>      </div>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="http://cdn.hustoj.com/template/bs3/jquery.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="http://cdn.hustoj.com/template/bs3/bootstrap.min.js"></script>

<!--<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
-->
<script>
$(document).ready(function(){
  var msg="<div style='margin-top:10px'  direction='up'   id=broadcast scrollamount=1 scrolldelay=50 onMouseOver='this.stop()'"+
      " onMouseOut='this.start()' class=toprow>"+"<p style=\"text-align:center;\">\r\n\t<span style=\"color:#24292E;font-family:-apple-system&#44; bl<x>inkMacSystemFont&#44; &quot;font-size:16px;background-color:#FFFFFF;\">\u5e86\u795dhustoj\u5728\u9996\u5c4a\u6df1\u5ea6\u8f6f\u4ef6\u5f00\u53d1\u5927\u8d5b\u4e2d\u83b7\u5f97\u4e09\u7b49\u5956\uff0c\u5145\u503c100\u900120\u3002<\/span>\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u672c\u7cfb\u7edf\u652f\u6301\u4e24\u79cd\u683c\u5f0f\u6570\u636e\u4e0b\u8f7d\uff0cfps\/xm<x>l\u683c\u5f0f\u542b\u9898\u9762\u56fe\u7247\u6570\u636e\u6807\u7a0b\u652f\u6301hustoj\u7cfb\u7edf\u76f4\u63a5\u5bfc\u5165\uff0czip\u683c\u5f0f\u4ec5\u542b\u6570\u636e\u4e0d\u542b\u9898\u9762\u3002\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u91cd\u590d\u4e0b\u8f7d\u4e0d\u91cd\u590d\u8ba1\u8d39\u3002\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u5982\u9047\u5145\u503c\u4e0d\u80fd\u5230\u8d26&#44;\u8bf7\u8054\u7cfbQQ:10982766\u63d0\u4f9b\u7528\u6237\u540d\u548c\u652f\u4ed8\u5355\u53f7\u8fdb\u884c\u6838\u5bf9\r\n<br \/>\r\n<p style=\"text-align:center;\">\r\n\t\u7ecf\u8d39\u4e0d\u8db3\u7684\u8001\u5e08\u540c\u5b66\u8bf7\u5148\u770b <br \/>\r\n<span class=\"btn-success\"> <a href=\"problemset.php?search=free\"><span> \u514d\u8d39\u4e13\u533a<\/span><\/a> <\/span>\r\n<br \/>"+"</div>";
  $(".jumbotron").prepend(msg);
  $("form").append("<div id='csrf' />");
  $("#csrf").load("csrf.php");
  $("body").append("<div id=footer class=center >GPLv2 licensed by <a href='https://github.com/zhblue/hustoj' >HUSTOJ</a> "+(new Date()).getFullYear()+" </div>");
  $("body").append("<div class=center > <img src='http://hustoj.com/wx.jpg' width='96px'><br> 欢迎关注微信公众号onlinejudge<br><img src=\"http://tk.hustoj.com/upload/image/20180621/20180621190059_62537.png\" width=\"200\" height=\"301\"  alt='支付宝扫一扫领红包'/></div>");
});
  console.log("If you want to change the appearance of the web pages, make a copy of bs3 under template directory.\nRename it to whatever you like, and change the $OJ_TEMPLATE value in db_info.inc.php\nAfter that modify files under your own directory .\n");


</script>

	
<script>
function phpfm(pid){
        //alert(pid);
        $.post("admin/phpfm.php",{'frame':3,'pid':pid,'pass':''},function(data,status){
                if(status=="success"){
                        document.location.href="admin/phpfm.php?frame=3&pid="+pid;
                }
        });
}
$(document).ready(function(){
	$("#creator").load("problem-ajax.php?pid=24773");
});
</script>	  
  </body>
</html>
<!--not cached-->
